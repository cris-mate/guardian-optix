
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for controllers/timeClockController.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../index.html">All files</a> / <a href="index.html">controllers</a> timeClockController.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/266</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/130</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/22</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/257</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a href='#L1'>1</a>
<a href='#L875'>875</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * TimeClock Controller
 *
 * Handles time clock functionality including clock-in/out,
 * break management, and timesheet operations.
 * Integrates GPS reverse geocoding for location addresses.
 */
&nbsp;
const { TimeEntry, Timesheet, ActiveSession } = <span class="cstat-no" title="statement not covered" >require('../models/TimeEntry');</span>
const Site = <span class="cstat-no" title="statement not covered" >require('../models/Site');</span>
const Shift = <span class="cstat-no" title="statement not covered" >require('../models/Shift');</span>
const User = <span class="cstat-no" title="statement not covered" >require('../models/User');</span>
const { emitClockAction, emitGeofenceViolation } = <span class="cstat-no" title="statement not covered" >require('../socket/socketManager');</span>
const { reverseGeocode } = <span class="cstat-no" title="statement not covered" >require('../services/geocodingService');</span>
const asyncHandler = <span class="cstat-no" title="statement not covered" >require('../utils/asyncHandler');</span>
&nbsp;
// ============================================
// Helper Functions
// ============================================
&nbsp;
/**
 * Get today's date in YYYY-MM-DD format
 */
const getTodayDate = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >()</span> =&gt; <span class="cstat-no" title="statement not covered" >new Date().toISOString().split('T')[0];</span></span>
&nbsp;
/**
 * Calculate distance between two GPS coordinates (Haversine formula)
 * @returns Distance in metres
 */
const calculateDistance = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >(l</span>at1, lon1, lat2, lon2) =&gt; {</span>
  const R = <span class="cstat-no" title="statement not covered" >6371000;</span> // Earth's radius in metres
  const lat1Rad = <span class="cstat-no" title="statement not covered" >(lat1 * Math.PI) / 180;</span>
  const lat2Rad = <span class="cstat-no" title="statement not covered" >(lat2 * Math.PI) / 180;</span>
  const deltaLat = <span class="cstat-no" title="statement not covered" >((lat2 - lat1) * Math.PI) / 180;</span>
  const deltaLon = <span class="cstat-no" title="statement not covered" >((lon2 - lon1) * Math.PI) / 180;</span>
&nbsp;
  const a =
<span class="cstat-no" title="statement not covered" >    Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +</span>
    Math.cos(lat1Rad) * Math.cos(lat2Rad) * Math.sin(deltaLon / 2) * Math.sin(deltaLon / 2);
  const c = <span class="cstat-no" title="statement not covered" >2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return R * c;</span>
};
&nbsp;
/**
 * Verify if location is within site geofence
 */
const verifyGeofence = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >as</span>ync (location, siteId) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >  if (!location || !siteId) <span class="cstat-no" title="statement not covered" >return 'unknown';</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  try {</span>
    const site = <span class="cstat-no" title="statement not covered" >await Site.findById(siteId);</span>
<span class="cstat-no" title="statement not covered" >    if (!site || !site.geofence || !site.geofence.center) <span class="cstat-no" title="statement not covered" >return 'unknown';</span></span>
&nbsp;
    const distance = <span class="cstat-no" title="statement not covered" >calculateDistance(</span>
      location.latitude,
      location.longitude,
      site.geofence.center.latitude,
      site.geofence.center.longitude
    );
&nbsp;
    const radius = <span class="cstat-no" title="statement not covered" >site.geofence.radius || 150;</span>
<span class="cstat-no" title="statement not covered" >    return distance &lt;= radius ? 'inside' : 'outside';</span>
  } catch (error) {
<span class="cstat-no" title="statement not covered" >    console.error('Geofence verification error:', error);</span>
<span class="cstat-no" title="statement not covered" >    return 'unknown';</span>
  }
};
&nbsp;
/**
 * Calculate worked minutes between two timestamps
 */
const calculateMinutesWorked = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >(s</span>tartTime, endTime) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >  if (!startTime || !endTime) <span class="cstat-no" title="statement not covered" >return 0;</span></span>
  const start = <span class="cstat-no" title="statement not covered" >new Date(startTime);</span>
  const end = <span class="cstat-no" title="statement not covered" >new Date(endTime);</span>
<span class="cstat-no" title="statement not covered" >  return Math.round((end - start) / (1000 * 60));</span>
};
&nbsp;
/**
 * Enrich location with reverse geocoded address
 */
const enrichLocationWithAddress = <span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >as</span>ync (location) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >  if (!location || !location.latitude || !location.longitude) {</span>
<span class="cstat-no" title="statement not covered" >    return location;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  try {</span>
    const geocodeResult = <span class="cstat-no" title="statement not covered" >await reverseGeocode(location.latitude, location.longitude);</span>
<span class="cstat-no" title="statement not covered" >    return {</span>
      ...location,
      address: geocodeResult.formatted || geocodeResult.shortAddress,
      addressDetails: geocodeResult.address,
      displayName: geocodeResult.displayName,
    };
  } catch (error) {
<span class="cstat-no" title="statement not covered" >    console.error('Geocoding error:', error.message);</span>
<span class="cstat-no" title="statement not covered" >    return {</span>
      ...location,
      address: `${location.latitude.toFixed(6)}, ${location.longitude.toFixed(6)}`,
    };
  }
};
&nbsp;
// ============================================
// Clock Actions
// ============================================
&nbsp;
/**
 * @route   POST /api/timeclock/clock-in
 * @desc    Clock in for current user
 * @access  Private
 */
const clockIn = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const { location, siteId, shiftId, notes } = <span class="cstat-no" title="statement not covered" >req.body;</span>
  const guardId = <span class="cstat-no" title="statement not covered" >req.user._id;</span>
  const today = <span class="cstat-no" title="statement not covered" >getTodayDate();</span>
&nbsp;
  // Check if already clocked in
  let session = <span class="cstat-no" title="statement not covered" >await ActiveSession.findOne({ guard: guardId });</span>
<span class="cstat-no" title="statement not covered" >  if (session &amp;&amp; session.clockStatus !== 'clocked-out') {</span>
<span class="cstat-no" title="statement not covered" >    res.status(400);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Already clocked in. Please clock out first.');</span>
  }
&nbsp;
  // Verify geofence if location provided
  let geofenceStatus = <span class="cstat-no" title="statement not covered" >'unknown';</span>
<span class="cstat-no" title="statement not covered" >  if (location &amp;&amp; siteId) {</span>
<span class="cstat-no" title="statement not covered" >    geofenceStatus = await verifyGeofence(location, siteId);</span>
  }
&nbsp;
  // Enrich location with address via reverse geocoding
  const enrichedLocation = <span class="cstat-no" title="statement not covered" >await enrichLocationWithAddress(location);</span>
&nbsp;
  // Create time entry
  const timeEntry = <span class="cstat-no" title="statement not covered" >await TimeEntry.create({</span>
    guard: guardId,
    shift: shiftId,
    site: siteId,
    date: today,
    type: 'clock-in',
    timestamp: new Date(),
    location: enrichedLocation,
    geofenceStatus,
    notes,
  });
&nbsp;
  // Update or create active session
<span class="cstat-no" title="statement not covered" >  if (!session) {</span>
<span class="cstat-no" title="statement not covered" >    session = await ActiveSession.create({</span>
      guard: guardId,
      shift: shiftId,
      site: siteId,
      clockStatus: 'clocked-in',
      clockedInAt: new Date(),
      lastKnownLocation: enrichedLocation,
      geofenceStatus,
    });
  } else {
<span class="cstat-no" title="statement not covered" >    session.clockStatus = 'clocked-in';</span>
<span class="cstat-no" title="statement not covered" >    session.clockedInAt = new Date();</span>
<span class="cstat-no" title="statement not covered" >    session.shift = shiftId;</span>
<span class="cstat-no" title="statement not covered" >    session.site = siteId;</span>
<span class="cstat-no" title="statement not covered" >    session.lastKnownLocation = enrichedLocation;</span>
<span class="cstat-no" title="statement not covered" >    session.geofenceStatus = geofenceStatus;</span>
<span class="cstat-no" title="statement not covered" >    session.totalBreakMinutesToday = 0;</span>
<span class="cstat-no" title="statement not covered" >    await session.save();</span>
  }
&nbsp;
  // Update timesheet
  const timesheet = <span class="cstat-no" title="statement not covered" >await Timesheet.getOrCreateForDate(guardId, today);</span>
<span class="cstat-no" title="statement not covered" >  timesheet.entries.push(timeEntry._id);</span>
<span class="cstat-no" title="statement not covered" >  timesheet.clockInTime = new Date();</span>
<span class="cstat-no" title="statement not covered" >  await timesheet.save();</span>
&nbsp;
  // Update shift status if linked
<span class="cstat-no" title="statement not covered" >  if (shiftId) {</span>
<span class="cstat-no" title="statement not covered" >    await Shift.findByIdAndUpdate(shiftId, {</span>
      status: 'in-progress',
      actualStart: new Date(),
    });
  }
&nbsp;
  // Get guard and site names for broadcast
  const [guard, site] = <span class="cstat-no" title="statement not covered" >await Promise.all([</span>
    User.findById(guardId).select('fullName'),
    siteId ? Site.findById(siteId).select('name') : null,
  ]);
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.status(201).json({</span>
    success: true,
    data: {
      entry: timeEntry,
      session: {
        clockStatus: session.clockStatus,
        clockedInAt: session.clockedInAt,
        geofenceStatus: session.geofenceStatus,
      },
      location: enrichedLocation,
    },
    message: 'Clocked in successfully',
  });
&nbsp;
  // Emit socket events
<span class="cstat-no" title="statement not covered" >  emitClockAction({</span>
    guardId,
    guardName: guard?.fullName || 'Unknown',
    action: 'clock-in',
    siteId,
    siteName: site?.name || 'Unknown Site',
    geofenceStatus,
  });
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (geofenceStatus === 'outside') {</span>
<span class="cstat-no" title="statement not covered" >    emitGeofenceViolation({</span>
      guardId,
      guardName: guard?.fullName || 'Unknown',
      siteId,
      siteName: site?.name || 'Unknown Site',
      location: enrichedLocation,
      action: 'clock-in',
    });
  }
});
&nbsp;
/**
 * @route   POST /api/timeclock/clock-out
 * @desc    Clock out for current user
 * @access  Private
 */
const clockOut = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const { location, notes } = <span class="cstat-no" title="statement not covered" >req.body;</span>
  const guardId = <span class="cstat-no" title="statement not covered" >req.user._id;</span>
  const today = <span class="cstat-no" title="statement not covered" >getTodayDate();</span>
&nbsp;
  // Verify user is clocked in
  const session = <span class="cstat-no" title="statement not covered" >await ActiveSession.findOne({ guard: guardId });</span>
<span class="cstat-no" title="statement not covered" >  if (!session || session.clockStatus === 'clocked-out') {</span>
<span class="cstat-no" title="statement not covered" >    res.status(400);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Not currently clocked in.');</span>
  }
&nbsp;
  // If on break, end break first
<span class="cstat-no" title="statement not covered" >  if (session.clockStatus === 'on-break') {</span>
    const breakDuration = <span class="cstat-no" title="statement not covered" >calculateMinutesWorked(session.currentBreakStartedAt, new Date());</span>
<span class="cstat-no" title="statement not covered" >    session.totalBreakMinutesToday += breakDuration;</span>
  }
&nbsp;
  // Verify geofence
  const geofenceStatus = <span class="cstat-no" title="statement not covered" >session.site</span>
    ? await verifyGeofence(location, session.site)
    : 'unknown';
&nbsp;
  // Enrich location with address
  const enrichedLocation = <span class="cstat-no" title="statement not covered" >await enrichLocationWithAddress(location);</span>
&nbsp;
  // Create time entry
  const timeEntry = <span class="cstat-no" title="statement not covered" >await TimeEntry.create({</span>
    guard: guardId,
    shift: session.shift,
    site: session.site,
    date: today,
    type: 'clock-out',
    timestamp: new Date(),
    location: enrichedLocation,
    geofenceStatus,
    notes,
  });
&nbsp;
  // Calculate worked time
  const totalMinutesWorked = <span class="cstat-no" title="statement not covered" >calculateMinutesWorked(session.clockedInAt, new Date());</span>
&nbsp;
  // Update timesheet
  const timesheet = <span class="cstat-no" title="statement not covered" >await Timesheet.getOrCreateForDate(guardId, today);</span>
<span class="cstat-no" title="statement not covered" >  timesheet.entries.push(timeEntry._id);</span>
<span class="cstat-no" title="statement not covered" >  timesheet.clockOutTime = new Date();</span>
<span class="cstat-no" title="statement not covered" >  timesheet.totalMinutesWorked = totalMinutesWorked;</span>
<span class="cstat-no" title="statement not covered" >  timesheet.totalBreakMinutes = session.totalBreakMinutesToday;</span>
<span class="cstat-no" title="statement not covered" >  timesheet.calculateOvertime();</span>
<span class="cstat-no" title="statement not covered" >  await timesheet.save();</span>
&nbsp;
  // Update shift status if linked
<span class="cstat-no" title="statement not covered" >  if (session.shift) {</span>
<span class="cstat-no" title="statement not covered" >    await Shift.findByIdAndUpdate(session.shift, {</span>
      status: 'completed',
      actualEnd: new Date(),
    });
  }
&nbsp;
  // Update session
<span class="cstat-no" title="statement not covered" >  session.clockStatus = 'clocked-out';</span>
<span class="cstat-no" title="statement not covered" >  session.lastKnownLocation = enrichedLocation;</span>
<span class="cstat-no" title="statement not covered" >  session.geofenceStatus = geofenceStatus;</span>
<span class="cstat-no" title="statement not covered" >  await session.save();</span>
&nbsp;
  // Get names for broadcast
  const guard = <span class="cstat-no" title="statement not covered" >await User.findById(guardId).select('fullName');</span>
  const site = <span class="cstat-no" title="statement not covered" >session.site ? await Site.findById(session.site).select('name') : null;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.status(201).json({</span>
    success: true,
    data: {
      entry: timeEntry,
      timesheet: {
        totalMinutesWorked: timesheet.totalMinutesWorked,
        totalBreakMinutes: timesheet.totalBreakMinutes,
        hoursWorked: timesheet.hoursWorked,
      },
      location: enrichedLocation,
    },
    message: 'Clocked out successfully',
  });
&nbsp;
  // Emit socket events
<span class="cstat-no" title="statement not covered" >  emitClockAction({</span>
    guardId,
    guardName: guard?.fullName || 'Unknown',
    action: 'clock-out',
    siteId: session.site,
    siteName: site?.name || 'Unknown Site',
    geofenceStatus,
  });
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (geofenceStatus === 'outside') {</span>
<span class="cstat-no" title="statement not covered" >    emitGeofenceViolation({</span>
      guardId,
      guardName: guard?.fullName || 'Unknown',
      siteId: session.site,
      siteName: site?.name || 'Unknown Site',
      location: enrichedLocation,
      action: 'clock-out',
    });
  }
});
&nbsp;
/**
 * @route   POST /api/timeclock/break/start
 * @desc    Start a break
 * @access  Private
 */
const startBreak = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const { location, breakType = <span class="branch-0 cbranch-no" title="branch not covered" >'paid' </span>} = <span class="cstat-no" title="statement not covered" >req.body;</span>
  const guardId = <span class="cstat-no" title="statement not covered" >req.user._id;</span>
  const today = <span class="cstat-no" title="statement not covered" >getTodayDate();</span>
&nbsp;
  // Verify user is clocked in
  const session = <span class="cstat-no" title="statement not covered" >await ActiveSession.findOne({ guard: guardId });</span>
<span class="cstat-no" title="statement not covered" >  if (!session || session.clockStatus !== 'clocked-in') {</span>
<span class="cstat-no" title="statement not covered" >    res.status(400);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Must be clocked in to start a break.');</span>
  }
&nbsp;
  // Verify geofence
  const geofenceStatus = <span class="cstat-no" title="statement not covered" >session.site</span>
    ? await verifyGeofence(location, session.site)
    : 'unknown';
&nbsp;
  // Enrich location
  const enrichedLocation = <span class="cstat-no" title="statement not covered" >await enrichLocationWithAddress(location);</span>
&nbsp;
  // Create time entry
  const timeEntry = <span class="cstat-no" title="statement not covered" >await TimeEntry.create({</span>
    guard: guardId,
    shift: session.shift,
    site: session.site,
    date: today,
    type: 'break-start',
    timestamp: new Date(),
    location: enrichedLocation,
    geofenceStatus,
  });
&nbsp;
  // Update session
<span class="cstat-no" title="statement not covered" >  session.clockStatus = 'on-break';</span>
<span class="cstat-no" title="statement not covered" >  session.currentBreakStartedAt = new Date();</span>
<span class="cstat-no" title="statement not covered" >  session.currentBreakType = breakType;</span>
<span class="cstat-no" title="statement not covered" >  session.lastKnownLocation = enrichedLocation;</span>
<span class="cstat-no" title="statement not covered" >  await session.save();</span>
&nbsp;
  // Update timesheet
  const timesheet = <span class="cstat-no" title="statement not covered" >await Timesheet.getOrCreateForDate(guardId, today);</span>
<span class="cstat-no" title="statement not covered" >  timesheet.entries.push(timeEntry._id);</span>
<span class="cstat-no" title="statement not covered" >  await timesheet.save();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.status(201).json({</span>
    success: true,
    data: {
      entry: timeEntry,
      session: {
        clockStatus: session.clockStatus,
        breakStartedAt: session.currentBreakStartedAt,
        breakType: session.currentBreakType,
      },
    },
    message: 'Break started',
  });
&nbsp;
<span class="cstat-no" title="statement not covered" >  emitClockAction({</span>
    guardId,
    guardName: req.user.fullName,
    action: 'break-start',
    siteId: session.site,
    siteName: 'Unknown Site',
    geofenceStatus,
  });
});
&nbsp;
/**
 * @route   POST /api/timeclock/break/end
 * @desc    End a break
 * @access  Private
 */
const endBreak = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const { location } = <span class="cstat-no" title="statement not covered" >req.body;</span>
  const guardId = <span class="cstat-no" title="statement not covered" >req.user._id;</span>
  const today = <span class="cstat-no" title="statement not covered" >getTodayDate();</span>
&nbsp;
  // Verify user is on break
  const session = <span class="cstat-no" title="statement not covered" >await ActiveSession.findOne({ guard: guardId });</span>
<span class="cstat-no" title="statement not covered" >  if (!session || session.clockStatus !== 'on-break') {</span>
<span class="cstat-no" title="statement not covered" >    res.status(400);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Not currently on break.');</span>
  }
&nbsp;
  // Calculate break duration
  const breakDuration = <span class="cstat-no" title="statement not covered" >calculateMinutesWorked(session.currentBreakStartedAt, new Date());</span>
&nbsp;
  // Verify geofence
  const geofenceStatus = <span class="cstat-no" title="statement not covered" >session.site</span>
    ? await verifyGeofence(location, session.site)
    : 'unknown';
&nbsp;
  // Enrich location
  const enrichedLocation = <span class="cstat-no" title="statement not covered" >await enrichLocationWithAddress(location);</span>
&nbsp;
  // Create time entry
  const timeEntry = <span class="cstat-no" title="statement not covered" >await TimeEntry.create({</span>
    guard: guardId,
    shift: session.shift,
    site: session.site,
    date: today,
    type: 'break-end',
    timestamp: new Date(),
    location: enrichedLocation,
    geofenceStatus,
  });
&nbsp;
  // Update timesheet with break record
  const timesheet = <span class="cstat-no" title="statement not covered" >await Timesheet.getOrCreateForDate(guardId, today);</span>
<span class="cstat-no" title="statement not covered" >  timesheet.entries.push(timeEntry._id);</span>
<span class="cstat-no" title="statement not covered" >  timesheet.breaks.push({</span>
    startTime: session.currentBreakStartedAt,
    endTime: new Date(),
    breakType: session.currentBreakType,
    duration: breakDuration,
    location: enrichedLocation,
  });
<span class="cstat-no" title="statement not covered" >  await timesheet.save();</span>
&nbsp;
  // Update session
<span class="cstat-no" title="statement not covered" >  session.clockStatus = 'clocked-in';</span>
<span class="cstat-no" title="statement not covered" >  session.totalBreakMinutesToday += breakDuration;</span>
<span class="cstat-no" title="statement not covered" >  session.currentBreakStartedAt = null;</span>
<span class="cstat-no" title="statement not covered" >  session.currentBreakType = null;</span>
<span class="cstat-no" title="statement not covered" >  session.lastKnownLocation = enrichedLocation;</span>
<span class="cstat-no" title="statement not covered" >  await session.save();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.status(201).json({</span>
    success: true,
    data: {
      entry: timeEntry,
      breakDuration,
      session: {
        clockStatus: session.clockStatus,
        totalBreakMinutesToday: session.totalBreakMinutesToday,
      },
    },
    message: 'Break ended',
  });
&nbsp;
<span class="cstat-no" title="statement not covered" >  emitClockAction({</span>
    guardId: guardId,
    guardName: req.user.fullName,
    action: 'break-end',
    siteId: session.site,
    siteName: 'Unknown Site',
    geofenceStatus,
  });
});
&nbsp;
// ============================================
// Status &amp; Data Retrieval
// ============================================
&nbsp;
/**
 * @route   GET /api/timeclock/status
 * @desc    Get current clock status for user
 * @access  Private
 */
const getClockStatus = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const guardId = <span class="cstat-no" title="statement not covered" >req.user._id;</span>
&nbsp;
  const session = <span class="cstat-no" title="statement not covered" >await ActiveSession.findOne({ guard: guardId })</span>
    .populate('site', 'name address postCode')
    .populate('shift', 'startTime endTime shiftType');
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!session) {</span>
<span class="cstat-no" title="statement not covered" >    return res.json({</span>
      success: true,
      data: {
        clockStatus: 'clocked-out',
        session: null,
      },
    });
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: {
      clockStatus: session.clockStatus,
      clockedInAt: session.clockedInAt,
      site: session.site,
      shift: session.shift,
      geofenceStatus: session.geofenceStatus,
      lastKnownLocation: session.lastKnownLocation,
      totalBreakMinutesToday: session.totalBreakMinutesToday,
      currentBreakStartedAt: session.currentBreakStartedAt,
      currentBreakType: session.currentBreakType,
    },
  });
});
&nbsp;
/**
 * @route   GET /api/timeclock/entries/today
 * @desc    Get today's time entries for current user
 * @access  Private
 */
const getTodayEntries = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const guardId = <span class="cstat-no" title="statement not covered" >req.user._id;</span>
  const today = <span class="cstat-no" title="statement not covered" >getTodayDate();</span>
&nbsp;
  const entries = <span class="cstat-no" title="statement not covered" >await TimeEntry.find({</span>
    guard: guardId,
    date: today,
  })
    .populate('site', 'name')
    .sort({ timestamp: -1 });
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: entries,
  });
});
&nbsp;
/**
 * @route   GET /api/timeclock/entries
 * @desc    Get time entries with filtering
 * @access  Private
 */
const getTimeEntries = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const { startDate, endDate, guardId, type, limit = <span class="branch-0 cbranch-no" title="branch not covered" >50 </span>} = <span class="cstat-no" title="statement not covered" >req.query;</span>
&nbsp;
  const query = <span class="cstat-no" title="statement not covered" >{};</span>
&nbsp;
  // If not admin/manager, only show own entries
<span class="cstat-no" title="statement not covered" >  if (req.user.role === 'Guard') {</span>
<span class="cstat-no" title="statement not covered" >    query.guard = req.user._id;</span>
  } else <span class="cstat-no" title="statement not covered" >if (guardId) {</span>
<span class="cstat-no" title="statement not covered" >    query.guard = guardId;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (startDate || endDate) {</span>
<span class="cstat-no" title="statement not covered" >    query.date = {};</span>
<span class="cstat-no" title="statement not covered" >    if (startDate) <span class="cstat-no" title="statement not covered" >query.date.$gte = startDate;</span></span>
<span class="cstat-no" title="statement not covered" >    if (endDate) <span class="cstat-no" title="statement not covered" >query.date.$lte = endDate;</span></span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (type) <span class="cstat-no" title="statement not covered" >query.type = type;</span></span>
&nbsp;
  const entries = <span class="cstat-no" title="statement not covered" >await TimeEntry.find(query)</span>
    .populate('guard', 'fullName siaLicenceNumber')
    .populate('site', 'name')
    .sort({ timestamp: -1 })
    .limit(parseInt(limit));
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: entries,
  });
});
&nbsp;
/**
 * @route   GET /api/timeclock/timesheet/today
 * @desc    Get today's timesheet
 * @access  Private
 */
const getTodayTimesheet = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const guardId = <span class="cstat-no" title="statement not covered" >req.user._id;</span>
  const today = <span class="cstat-no" title="statement not covered" >getTodayDate();</span>
&nbsp;
  let timesheet = <span class="cstat-no" title="statement not covered" >await Timesheet.findOne({ guard: guardId, date: today })</span>
    .populate('entries');
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!timesheet) {</span>
<span class="cstat-no" title="statement not covered" >    timesheet = {</span>
      date: today,
      clockInTime: null,
      clockOutTime: null,
      totalMinutesWorked: 0,
      totalBreakMinutes: 0,
      entries: [],
      breaks: [],
      status: 'pending',
    };
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: timesheet,
  });
});
&nbsp;
/**
 * @route   GET /api/timeclock/timesheet/weekly
 * @desc    Get weekly summary
 * @access  Private
 */
const getWeeklySummary = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const guardId = <span class="cstat-no" title="statement not covered" >req.user._id;</span>
&nbsp;
  // Get dates for current week (Monday to Sunday)
  const today = <span class="cstat-no" title="statement not covered" >new Date();</span>
  const dayOfWeek = <span class="cstat-no" title="statement not covered" >today.getDay();</span>
  const monday = <span class="cstat-no" title="statement not covered" >new Date(today);</span>
<span class="cstat-no" title="statement not covered" >  monday.setDate(today.getDate() - (dayOfWeek === 0 ? 6 : dayOfWeek - 1));</span>
<span class="cstat-no" title="statement not covered" >  monday.setHours(0, 0, 0, 0);</span>
&nbsp;
  const sunday = <span class="cstat-no" title="statement not covered" >new Date(monday);</span>
<span class="cstat-no" title="statement not covered" >  sunday.setDate(monday.getDate() + 6);</span>
&nbsp;
  const startDate = <span class="cstat-no" title="statement not covered" >monday.toISOString().split('T')[0];</span>
  const endDate = <span class="cstat-no" title="statement not covered" >sunday.toISOString().split('T')[0];</span>
&nbsp;
  const timesheets = <span class="cstat-no" title="statement not covered" >await Timesheet.find({</span>
    guard: guardId,
    date: { $gte: startDate, $lte: endDate },
  }).sort({ date: 1 });
&nbsp;
  // Calculate weekly totals
  let totalMinutes = <span class="cstat-no" title="statement not covered" >0;</span>
  let totalBreakMinutes = <span class="cstat-no" title="statement not covered" >0;</span>
  let daysWorked = <span class="cstat-no" title="statement not covered" >0;</span>
&nbsp;
  const dailySummary = <span class="cstat-no" title="statement not covered" >[];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  timesheets.forEach(<span class="fstat-no" title="function not covered" >(t</span>s) =&gt; {</span>
<span class="cstat-no" title="statement not covered" >    totalMinutes += ts.totalMinutesWorked || 0;</span>
<span class="cstat-no" title="statement not covered" >    totalBreakMinutes += ts.totalBreakMinutes || 0;</span>
<span class="cstat-no" title="statement not covered" >    if (ts.totalMinutesWorked &gt; 0) <span class="cstat-no" title="statement not covered" >daysWorked++;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    dailySummary.push({</span>
      date: ts.date,
      hoursWorked: Math.round(((ts.totalMinutesWorked || 0) / 60) * 100) / 100,
      breakMinutes: ts.totalBreakMinutes || 0,
      status: ts.status,
    });
  });
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: {
      weekStart: startDate,
      weekEnd: endDate,
      totalHours: Math.round((totalMinutes / 60) * 100) / 100,
      totalBreakHours: Math.round((totalBreakMinutes / 60) * 100) / 100,
      daysWorked,
      dailySummary,
    },
  });
});
&nbsp;
/**
 * @route   GET /api/timeclock/stats
 * @desc    Get time clock statistics
 * @access  Private (Manager/Admin)
 */
const getStats = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const today = <span class="cstat-no" title="statement not covered" >getTodayDate();</span>
&nbsp;
  const [activeSessions, todayEntries] = <span class="cstat-no" title="statement not covered" >await Promise.all([</span>
    ActiveSession.countDocuments({ clockStatus: { $ne: 'clocked-out' } }),
    TimeEntry.find({ date: today, type: 'clock-in' }),
  ]);
&nbsp;
  // Calculate stats
  const guardsOnDuty = <span class="cstat-no" title="statement not covered" >activeSessions;</span>
  const onBreak = <span class="cstat-no" title="statement not covered" >await ActiveSession.countDocuments({ clockStatus: 'on-break' });</span>
&nbsp;
  // Calculate total hours today
  const todayTimesheets = <span class="cstat-no" title="statement not covered" >await Timesheet.find({ date: today });</span>
  const totalMinutesToday = <span class="cstat-no" title="statement not covered" >todayTimesheets.reduce(<span class="fstat-no" title="function not covered" >(s</span>um, ts) =&gt; <span class="cstat-no" title="statement not covered" >sum + (ts.totalMinutesWorked || 0),</span> 0);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: {
      guardsOnDuty,
      onBreak,
      clockedOut: 0, // Would need to calculate based on expected vs actual
      totalHoursToday: Math.round((totalMinutesToday / 60) * 100) / 100,
      lateArrivals: 0, // Would come from dashboard controller
      activeBreaks: onBreak,
    },
  });
});
&nbsp;
/**
 * @route   GET /api/timeclock/active-guards
 * @desc    Get list of currently active guards
 * @access  Private (Manager/Admin)
 */
const getActiveGuards = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const today = <span class="cstat-no" title="statement not covered" >getTodayDate();</span>
&nbsp;
  const sessions = <span class="cstat-no" title="statement not covered" >await ActiveSession.find({</span>
    clockStatus: { $ne: 'clocked-out' },
  })
    .populate('guard', 'fullName siaLicenceNumber')
    .populate('site', 'name');
&nbsp;
  const guardsData = <span class="cstat-no" title="statement not covered" >await Promise.all(</span>
    sessions.map(<span class="fstat-no" title="function not covered" >as</span>ync (session) =&gt; {
      const timesheet = <span class="cstat-no" title="statement not covered" >await Timesheet.findOne({</span>
        guard: session.guard._id,
        date: today,
      });
&nbsp;
      const hoursToday = <span class="cstat-no" title="statement not covered" >timesheet</span>
        ? Math.round(((timesheet.totalMinutesWorked || 0) / 60) * 100) / 100
        : 0;
&nbsp;
<span class="cstat-no" title="statement not covered" >      return {</span>
        _id: session._id,
        guardId: session.guard._id,
        fullName: session.guard.fullName,
        siaLicenceNumber: session.guard.siaLicenceNumber,
        profileImage: session.guard.profileImage,
        clockStatus: session.clockStatus,
        clockedInAt: session.clockedInAt,
        currentSite: session.site?.name,
        currentLocation: session.lastKnownLocation,
        geofenceStatus: session.geofenceStatus,
        hoursToday,
      };
    })
  );
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: guardsData,
  });
});
&nbsp;
/**
 * @route   POST /api/timeclock/verify-location
 * @desc    Verify if location is within geofence and get address
 * @access  Private
 */
const verifyLocation = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const { location, siteId } = <span class="cstat-no" title="statement not covered" >req.body;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!location) {</span>
<span class="cstat-no" title="statement not covered" >    res.status(400);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Location is required');</span>
  }
&nbsp;
  // Get geofence status if site provided
  let geofenceStatus = <span class="cstat-no" title="statement not covered" >'unknown';</span>
<span class="cstat-no" title="statement not covered" >  if (siteId) {</span>
<span class="cstat-no" title="statement not covered" >    geofenceStatus = await verifyGeofence(location, siteId);</span>
  }
&nbsp;
  // Reverse geocode the location
  const enrichedLocation = <span class="cstat-no" title="statement not covered" >await enrichLocationWithAddress(location);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: {
      geofenceStatus,
      location: enrichedLocation,
    },
  });
});
&nbsp;
/**
 * @route   PATCH /api/timeclock/timesheet/:id/approve
 * @desc    Approve a timesheet
 * @access  Private (Admin/Manager)
 */
const approveTimesheet = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const timesheet = <span class="cstat-no" title="statement not covered" >await Timesheet.findById(req.params.id);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!timesheet) {</span>
<span class="cstat-no" title="statement not covered" >    res.status(404);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Timesheet not found');</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (timesheet.status !== 'submitted') {</span>
<span class="cstat-no" title="statement not covered" >    res.status(400);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Timesheet must be submitted before approval');</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  timesheet.status = 'approved';</span>
<span class="cstat-no" title="statement not covered" >  timesheet.approvedBy = req.user._id;</span>
<span class="cstat-no" title="statement not covered" >  timesheet.approvedAt = new Date();</span>
<span class="cstat-no" title="statement not covered" >  await timesheet.save();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: timesheet,
    message: 'Timesheet approved',
  });
});
&nbsp;
/**
 * @route   PATCH /api/timeclock/timesheet/:id/reject
 * @desc    Reject a timesheet
 * @access  Private (Admin/Manager)
 */
const rejectTimesheet = <span class="cstat-no" title="statement not covered" >asyncHandler(<span class="fstat-no" title="function not covered" >as</span>ync (req, res) =&gt; {</span>
  const { reason } = <span class="cstat-no" title="statement not covered" >req.body;</span>
  const timesheet = <span class="cstat-no" title="statement not covered" >await Timesheet.findById(req.params.id);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!timesheet) {</span>
<span class="cstat-no" title="statement not covered" >    res.status(404);</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('Timesheet not found');</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  timesheet.status = 'rejected';</span>
<span class="cstat-no" title="statement not covered" >  timesheet.rejectionReason = reason;</span>
<span class="cstat-no" title="statement not covered" >  await timesheet.save();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  res.json({</span>
    success: true,
    data: timesheet,
    message: 'Timesheet rejected',
  });
});
&nbsp;
// ============================================
// Exports
// ============================================
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = {</span>
  // Clock actions
  clockIn,
  clockOut,
  startBreak,
  endBreak,
&nbsp;
  // Status &amp; data
  getClockStatus,
  getTodayEntries,
  getTimeEntries,
  getTodayTimesheet,
  getWeeklySummary,
  getStats,
  getActiveGuards,
&nbsp;
  // Utilities
  verifyLocation,
&nbsp;
  // Timesheet management
  approveTimesheet,
  rejectTimesheet,
};</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-12-12T08:20:01.238Z
            </div>
        <script src="../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../sorter.js"></script>
        <script src="../block-navigation.js"></script>
    </body>
</html>
    